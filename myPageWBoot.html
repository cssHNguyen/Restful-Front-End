<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <!--Using aJax to fetch data from PHP -->
    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'></script>
    <link href="myPageWBoot.css" rel="stylesheet"/>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/3-col-portfolio.css" rel="stylesheet">
</head>
<body>

<div class="container">
    <div class="jumbotron">
        <h1>Awesome Beauty Products</h1>
        <p>Works perfectly for all types of skin</p>
    </div>
    <div class="row" id = "mRow">
        <!--
        <div class="col-sm-4">
            <h3>Column 1</h3>
            <img src ="test.jpg" class="img-responsive" alt="Cinque Terre" width="304" height="236">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
            <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
        </div>
        -->
    </div>
</div>


<script type='text/javascript'>
    //Variable to check loading time
    var d = new Date();
    var startTime = d.getTime();
    //get div to be appended to
    var mDiv = document.getElementById("mRow");

    //function to send the correct data to the next
    function pVToHTML (_pID) {
        sessionStorage.setItem('label', _pID);
    }
    //sessionStorage.setItem('label', 'Hello World!')

    $(document).ready(function(){
        /* call the php that has the php array which is json_encoded */
        $.getJSON('main.php', function(data) {

            /* data will hold the php array as a javascript object */
            $.each(data, function(key, val) {
                mDiv.innerHTML += "<div class='col-md-4'>"+
                "<a href = 'singleProduct.html'" + "id=" + val.name + " onClick='pVToHTML(this.id)'>"+
                    "<img src ="+val.image_url+" class='img-responsive' alt='Cinque Terre'>"+
                    "<h3>"+val.name+"</h3>"+
                "</a>"+
                "<p>"+val.short_description+"</p>"+
                "</div>";
                /*
                $('ul').append('<li id="' + key + '">'+
                '<img src="'+val.image_url+'">'+
                "<h2>"+val.name+"</h2>"+
                "<p>"+val.short_description+"</p>"+
                '</li><br>');*/
            });
        });
    });

    //Used to check the loading time
    jQuery(window).load(function () {
    });

</script>
<!--
<script>

    for (i = 0; i < 6; i++) {
        mDiv.innerHTML += "<div class=\"col-sm-4\">"+
                "<img src =\"test.jpg\" class=\"img-responsive\" alt=\"Cinque Terre\" width=\"304\" height=\"236\">";
    }
</script>
-->




</body>
</html>